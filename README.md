# 문자열 계산기 기능 목록

2022-08-23

## 기능목록

애플리케이션의 주요 기능은 크게 아래와 같이 나눌 수 있다.

| Features | Descriptions              | 예시                                                                       |
| --- |--------------------------- |--------------------------------------------------------------------------|
| Splitting | 입력받은 문자열을 의미 있는 단위로 분리한다. | `2 + 3 * 4 / 2` -> `['2', '+', '3', '*', '4', '/', '2']`                 |
| Parsing | 분리한 단어들을 연산자와 피연산자로 구분한다. | `['2', '+', '3', '*', '4', '/', '2']` -> `[2, 3, 4, 2], ['+', '*', '/']` |
| Calculate | 구분한 기호들을 사용하여 식을 계산한다.    | `[2, 3, 4, 2], ['+', '*', '/']` -> `10`                                   |

- 위 3가지 기능에 따른 책임들을 담당하는 3가지 객체가 존재한다고 가정.
- 이때 협력 관계에 있어서 주고 받는 과정에서 메세지의 형태가 크게 변하게 되거나 더 많아질 수도 있음.
- 따라서 필자는 하나의 컨트롤러 기능을 하는 객체에서 위와 같이 기능별로 분리한 객체들을 가지도록 함.
- 예를 들어 `StringCalculator`에는 각각 3가지 주요 기능을 하는 메서드들이 존재하며, 이 기능들을 호출할 때는 `StringCalculator`가 각 기능을 담당하는 객체의 메서드를 호출하도록 만듦.
- 각각 `StatementSplitter`, `StatementParser`, `StatementCalculator` 라고 임의의 이름을 붙임.

| 객체                    | 책임                                                              |
|-----------------------|-----------------------------------------------------------------| 
| `StatementSplitter`   | 사용자로부터 입력받은 문자열을 공백 단위로 분리한다. 이때 입력받은 문자열의 검증 또한 담당한다.          |
| `StatementParser`     | 분리된 문자열로부터 연산자와 피연산자를 구분하여 반환한다. 연산자와 피연산자의 구분 및 단위 변환 등을 담당한다. |
| `StatementCalculator` | 연산자와 피연산자를 가지고 계산한 결과값을 반환한다.                                   |
| `StringCalculator`    | 위 3가지 객체들을 내부적으로 조합하여 사용자에게 간편한 인터페이스를 제공한다.                    |

- 각 객체의 책임들을 대표하는 몇가지 메세지들을 정의.

| 객체 | 메세지                                                             |
| --- |-----------------------------------------------------------------|
| `StatementSplitter` | `split(String statement) : String[]`                            |
| `StatementParser` | `parse(String[] words) : void`                                  |
| `StatementCalculator` | `compute() : int` |

- 이때 각 객체들에서 메서드를 호출하여 처리한 상태 값을 저장하는 용도로서 `StringCalculator`가 각각 피연산자와 연산자 리스트를 소유하도록 만든다.

## 요구사항

- 사용자가 입력한 문자열 값에 따라 사칙연산을 수행할 수 있는 계산기를 구현해야 한다. 
- 문자열 계산기는 사칙연산의 계산 우선순위가 아닌 입력 값에 따라 계산 순서가 결정된다. 즉, 수학에서는 곱셈, 나눗셈이 덧셈, 뺄셈 보다 먼저 계산해야 하지만 이를 무시한다. 
- 예를 들어 `2 + 3 * 4 / 2`와 같은 문자열을 입력할 경우 `10`을 출력해야 한다.

### 힌트

문자열을 입력 받은 후(`scanner`의 `nextLine()` 메소드 활용) 빈 공백 문자열을 기준으로 문자들을 분리해야 한다.

```java
String value = scanner.nextLine();
String[] values = value.split(" ");
```


### 입출력 예시

| INPUT | OUTPUT |
| --- | --- |
| `2 + 3 * 4 / 2` | 10 |
